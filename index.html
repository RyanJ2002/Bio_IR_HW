<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biomedical Document Search</title>
    <!-- We'll use Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- 1. Hideable Sidebar (for original project navigation) -->
    <nav class="sidebar">
        <h2>課程專案</h2>
        <ul>
            <li class="active"><a href="#">HW #1: Full Text Matching</a></li>
            <li><a href="#">HW #2: Query Expansion (待辦)</a></li>
            <!-- ... other assignments ... -->
        </ul>
    </nav>

    <!-- Main Application Container -->
    <div class="app-container">
        <!-- 2. Top Header Bar -->
        <header class="top-header">
            <button id="toggle-sidebar-btn" title="Toggle Sidebar"><i class="fas fa-bars"></i></button>
            <h1>Biomedical Document Search</h1>
            <div class="header-actions">
                <button id="view-library-btn"><i class="fas fa-book-open"></i> 查看文件庫</button>
                <button id="import-paper-btn"><i class="fas fa-file-import"></i> 匯入新文件</button>
            </div>
        </header>

        <!-- 3. Main Content Area -->
        <main class="main-content">
            <section class="search-hero">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="main-search-input" placeholder="在您所有已匯入的文件中搜尋...">
                </div>
            </section>
            <section id="search-results-area" class="results-area">
                <!-- Search results will be dynamically inserted here -->
                <div class="placeholder-text">
                    <p>點擊 "查看文件庫" 顯示所有文件，或使用上方搜尋框尋找特定內容。</p>
                </div>
            </section>
        </main>
    </div>

    <!-- 4. Import Paper Modal (Hidden by default) -->
    <div id="import-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button class="close-btn" id="close-import-modal-btn">&times;</button>
            <h2>匯入新文件</h2>
            <div class="load-options">
                <div class="option-card">
                    <h3>從本機上傳</h3>
                    <p>選擇一個 .xml 檔案。</p>
                    <label for="xml-upload" class="button-like"><i class="fas fa-upload"></i> 上傳檔案</label>
                    <input type="file" id="xml-upload" accept=".xml" style="display: none;">
                </div>
                <div class="option-card">
                    <h3>從 PubMed 尋找</h3>
                    <p>線上搜尋並匯入論文。</p>
                    <a href="search.html" target="_blank" class="button-like"><i class="fas fa-globe"></i> 前往搜尋</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 5. Paper Dashboard Panel (Hidden by default, slides in from right) -->
    <div id="paper-dashboard" class="dashboard-panel">
        <button class="close-btn" id="close-dashboard-btn">&times;</button>
        <div class="dashboard-content">
            <div class="paper-preview">
                <h2 id="dashboard-title">Paper Title Here</h2>
                <p class="meta-info"><strong>PMID:</strong> <span id="dashboard-pmid">N/A</span> | <strong>Year:</strong> <span id="dashboard-year">N/A</span></p>
                <h3>摘要 (Abstract)</h3>
                <p id="dashboard-abstract">Abstract text will be displayed here.</p>
            </div>
            <div class="paper-analysis">
                <h3>文件統計分析</h3>
                <div class="stats-grid">
                    <div><strong>總詞數:</strong> <span id="stat-word-count">0</span></div>
                    <div><strong>Characters (含空格):</strong> <span id="stat-char-spaces">0</span></div>
                    <div><strong>Characters (不含空格):</strong> <span id="stat-char-no-spaces">0</span></div>
                    <div><strong>總句數:</strong> <span id="stat-sentence-count">0</span></div>
                    <div><strong>Non-ASCII Characters:</strong> <span id="stat-non-ascii-char">0</span></div>
                    <div><strong>Non-ASCII Words:</strong> <span id="stat-non-ascii-word">0</span></div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>